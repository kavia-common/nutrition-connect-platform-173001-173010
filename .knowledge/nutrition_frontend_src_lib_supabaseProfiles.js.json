{"is_source_file": true, "format": "JavaScript", "description": "This file provides a set of public interface functions for user profile management, including creating, updating, completing onboarding, and managing user settings. It acts as a wrapper around underlying supabase service functions.", "external_files": ["./supabaseServices"], "external_methods": ["getOrCreateProfile", "upsertProfile", "markOnboardingComplete", "upsertSettings", "fetchSettings"], "published": ["ensureProfile", "updateProfile", "completeOnboarding", "saveSettings", "getSettings"], "classes": [], "methods": [{"name": "ensureProfile(userId, defaults = {})", "description": "Convenience function wrapping getOrCreateProfile for easier access to ensure a user profile exists.", "scope": "", "scopeKind": ""}, {"name": "updateProfile(userId, fields)", "description": "Convenience function wrapping upsertProfile to update or insert user profile data.", "scope": "", "scopeKind": ""}, {"name": "completeOnboarding(userId)", "description": "Sets the onboarding_complete flag to true on the user's profile.", "scope": "", "scopeKind": ""}, {"name": "saveSettings(userId, { preferences = null, availability = null } = {})", "description": "Upserts user settings including preferences and availability.", "scope": "", "scopeKind": ""}, {"name": "getSettings(userId)", "description": "Retrieves user settings from the database.", "scope": "", "scopeKind": ""}], "calls": ["getOrCreateProfile", "upsertProfile", "markOnboardingComplete", "upsertSettings", "fetchSettings"], "search-terms": ["supabaseProfiles", "user profile", "onboarding", "settings", "user management"], "state": 2, "file_id": 81, "knowledge_revision": 221, "git_revision": "", "ctags": [{"_type": "tag", "name": "completeOnboarding", "path": "/home/kavia/workspace/code-generation/nutrition-connect-platform-173001-173010/nutrition_frontend/src/lib/supabaseProfiles.js", "pattern": "/^export async function completeOnboarding(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "ensureProfile", "path": "/home/kavia/workspace/code-generation/nutrition-connect-platform-173001-173010/nutrition_frontend/src/lib/supabaseProfiles.js", "pattern": "/^export async function ensureProfile(userId, defaults = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, defaults = {})"}, {"_type": "tag", "name": "getSettings", "path": "/home/kavia/workspace/code-generation/nutrition-connect-platform-173001-173010/nutrition_frontend/src/lib/supabaseProfiles.js", "pattern": "/^export async function getSettings(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "saveSettings", "path": "/home/kavia/workspace/code-generation/nutrition-connect-platform-173001-173010/nutrition_frontend/src/lib/supabaseProfiles.js", "pattern": "/^export async function saveSettings(userId, { preferences = null, availability = null } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, { preferences = null, availability = null } = {})"}, {"_type": "tag", "name": "updateProfile", "path": "/home/kavia/workspace/code-generation/nutrition-connect-platform-173001-173010/nutrition_frontend/src/lib/supabaseProfiles.js", "pattern": "/^export async function updateProfile(userId, fields) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, fields)"}], "hash": "fa130d481c0a07fa2b8eafc297f6279b", "format-version": 4, "code-base-name": "nutrition_frontend", "filename": "nutrition_frontend/src/lib/supabaseProfiles.js", "revision_history": [{"221": ""}]}