{"is_source_file": true, "format": "JavaScript", "description": "This file contains functions for fetching analytical and metric data related to clients, coaches, and platform-level statistics from a database, primarily through views and fallback table queries.", "external_files": ["./supabaseClient"], "external_methods": ["getSupabaseClient"], "published": ["getClientProgress", "getCoachPortfolio", "getAdminMetrics"], "classes": [], "methods": [{"name": "getClientProgress(userId, { days = 30 } = {})", "description": "Fetches a client's progress timeseries data, trying views first, then falling back to logs and placeholder data.", "scope": "", "scopeKind": ""}, {"name": "getCoachPortfolio(userId)", "description": "Returns portfolio metrics for a coach, including active clients, plans, assignments, messages, and a revenue estimate. Uses views primarily, with fallbacks.", "scope": "", "scopeKind": ""}, {"name": "getAdminMetrics()", "description": "Provides platform-wide metrics such as user counts, plans, messages, and revenue. Prefers views but has fallbacks with counts.", "scope": "", "scopeKind": ""}], "calls": ["getSupabaseClient", "supabase.from('...')"], "search-terms": ["analytics", "client_progress_view", "coach_portfolio_view", "admin_metrics_view", "fallback", "supabase", "timeseries", "coaching", "platform metrics"], "state": 2, "file_id": 73, "knowledge_revision": 197, "git_revision": "", "ctags": [{"_type": "tag", "name": "getAdminMetrics", "path": "/home/kavia/workspace/code-generation/nutrition-connect-platform-173001-173010/nutrition_frontend/src/lib/analyticsService.js", "pattern": "/^export async function getAdminMetrics() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getClientProgress", "path": "/home/kavia/workspace/code-generation/nutrition-connect-platform-173001-173010/nutrition_frontend/src/lib/analyticsService.js", "pattern": "/^export async function getClientProgress(userId, { days = 30 } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, { days = 30 } = {})"}, {"_type": "tag", "name": "getCoachPortfolio", "path": "/home/kavia/workspace/code-generation/nutrition-connect-platform-173001-173010/nutrition_frontend/src/lib/analyticsService.js", "pattern": "/^export async function getCoachPortfolio(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}], "hash": "c93e79199421b08e2998352cbb697181", "format-version": 4, "code-base-name": "nutrition_frontend", "filename": "nutrition_frontend/src/lib/analyticsService.js", "revision_history": [{"197": ""}]}